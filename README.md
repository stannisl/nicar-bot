# üöÄ Telegram Bot (Python + PTB)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–µ–¥—ë—Ç –¥–∏–∞–ª–æ–≥ –≤ –õ–°:
- –í—ã–±–æ—Ä —è–∑—ã–∫–∞ (RU / EN)
- –í–æ–ø—Ä–æ—Å—ã –ø—Ä–æ Steam (—Å—Ç—Ä–∞–Ω–∞, –Ω–∏–∫, —É—Ä–æ–≤–µ–Ω—å)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ JSON
- –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
VERIFY_URL=https://example.com/verify
````

---

## üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker

### 1. –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑

```bash
docker build -t steam-bot .
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker run -d \
  --name steam-bot \
  --env-file .env \
  steam-bot
```

---

## üõ† –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   python3.12 -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ `.env` (—Å–º. –≤—ã—à–µ).

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

   ```bash
   python src/bot.py
   ```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bot.py             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –•–µ–Ω–¥–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ locales/           # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (RU/EN)
‚îÇ   ‚îî‚îÄ‚îÄ config.json        # –ö–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ requirements.txt       # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile             # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

–î–æ–±–∞–≤–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –ø—Ä–æ—Å–º–æ—Ç—Ä—É —Ñ–∞–π–ª–∞ –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

---

## ‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

* –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞–∫:

  ```bash
  docker logs -f steam-bot
  ```

* –ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞:

  ```bash
  docker stop steam-bot && docker rm steam-bot
  docker build -t steam-bot .
  docker run -d --env-file .env steam-bot
  ```

* –ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª `storage.json` (–∏–ª–∏ `data.json`) —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

  1. –í–æ–π—Ç–∏ –≤ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

     ```bash
     docker exec -it steam-bot /bin/sh
     ```
  2. –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:

     ```sh
     cd /app
     ```
  3. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

     ```sh
     cat storage.json
     ```

     –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å —Å –ø–æ–º–æ—â—å—é `less`/`more`:

     ```sh
     less storage.json
     ```

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –Ω–∞—Ä—É–∂—É**, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Ö–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
docker run -d --env-file .env -v $(pwd)/storage.json:/app/storage.json steam-bot
```

–¢–æ–≥–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –ø—Ä—è–º–æ –Ω–∞ —Ö–æ—Å—Ç–µ.
